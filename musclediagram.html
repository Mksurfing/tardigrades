<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Muscle App</title>
<style>
  body {
    font-family: 'Helvetica Neue', Arial, sans-serif;
    margin: 0;
    background: #fff;
  }

  main {
    max-width: 420px;
    margin: 14px auto;
    padding: 0 12px;
  }

  .card {
    background: #ffe0b2;
    border-radius: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    overflow: hidden;
    position: relative;
  }

  .columns {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    align-items: flex-start;
    padding: 14px;
  }

  .left-image, .right-panels {
    flex: 1 1 100%;
    max-width: 100%;
  }

  .left-image {
    position: relative;
  }

  img {
    width: 100%;
    border-radius: 8px;
    display: block;
    box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  }

  svg {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: auto;
  }

  .svg-label {
    font-size: 13px;
    padding: 4px 8px;
    border-radius: 6px;
    border: none;
    background: #e1735e;
    color: #fff;
    cursor: pointer;
  }

  .right-panels > div {
    background: #ffe0b2;
    border-radius: 8px;
    padding: 14px;
    margin-top: 12px;
    border: 2px solid #000;
  }

  .right-panels h3 {
    margin: 0 0 6px 0;
    font-size: 0.98em;
    color: #000;
  }

  #selected-muscle-name {
    font-weight: 600;
    margin-bottom: 6px;
  }

  button.home, button.info {
    position: absolute;
    top: 24px;
    padding: 6px 12px;
    background: #c7934c;
    color: #fff;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 700;
    z-index: 20;
  }

  button.home { right: 22px; }
  button.info { right: 110px; }

  .sr-only {
    position: absolute !important;
    height: 1px; width: 1px;
    overflow: hidden;
    clip: rect(1px,1px,1px,1px);
    white-space: nowrap; border: 0; padding: 0; margin: -1px;
  }

  @media (max-width: 420px) {
    .columns { flex-direction: column; }
    .right-panels { margin-top: 12px; }
    main > .card { overflow: visible; }
  }
</style>
</head>
<body>
<main>
  <div class="card">
    <button class="home" onclick="location.href='HomePage.html'">Home</button>
    <button class="info" id="showInfoBtn">Info</button>

    <div class="columns">
      <!-- Left column: image + SVG labels -->
      <div class="left-image">
        <img id="diagramImg" src="images/muscleman.png" alt="Human Muscle Diagram showing major anterior muscles with callouts" usemap="#musclemap" aria-describedby="muscle-system-info">
        <svg viewBox="0 0 420 800" preserveAspectRatio="xMidYMid meet">
          <defs>
            <marker id="arrow" markerWidth="8" markerHeight="8" refX="8" refY="4" orient="auto">
              <path d="M0,0 L8,4 L0,8 z" fill="#333"/>
            </marker>
          </defs>

          <!-- Shoulders -->
          <line x1="140" y1="90" x2="100" y2="60" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
          <foreignObject x="10" y="36" width="80" height="26">
            <button class="svg-label" data-muscle="shoulders">Shoulders</button>
          </foreignObject>

          <!-- Chest -->
          <line x1="210" y1="170" x2="260" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
          <foreignObject x="270" y="128" width="70" height="26">
            <button class="svg-label" data-muscle="chest">Chest</button>
          </foreignObject>

          <!-- Triceps -->
          <line x1="300" y1="220" x2="340" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
          <foreignObject x="348" y="188" width="70" height="26">
            <button class="svg-label" data-muscle="triceps">Triceps</button>
          </foreignObject>

          <!-- Biceps -->
          <line x1="150" y1="215" x2="95" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
          <foreignObject x="10" y="236" width="70" height="26">
            <button class="svg-label" data-muscle="biceps">Biceps</button>
          </foreignObject>

          <!-- Quads -->
          <line x1="250" y1="420" x2="300" y2="470" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
          <foreignObject x="308" y="472" width="70" height="26">
            <button class="svg-label" data-muscle="quads">Quads</button>
          </foreignObject>
        </svg>

        <map name="musclemap">
          <area shape="poly" coords="200,100,250,110,260,180,210,190" href="#shoulders-info" data-muscle="shoulders">
          <area shape="rect" coords="260,150,340,220" href="#chest-info" data-muscle="chest">
          <area shape="rect" coords="300,450,380,580" href="#quads-info" data-muscle="quads">
        </map>
      </div>

      <!-- Right column: info panels -->
      <div class="right-panels">
        <div>
          <h3>Information about the muscular system</h3>
          <p id="muscle-system-info">The muscular system provides movement, posture, and heat generation. It's broadly categorized into skeletal, cardiac, and smooth muscle tissues.</p>
        </div>

        <div>
          <h3>Specific muscle selected and exercises</h3>
          <div id="selected-muscle-name">No muscle selected</div>
          <p id="selected-muscle-info">Tap on a muscle in the diagram above (or use the buttons) to view its function and suggested exercises.</p>
        </div>
      </div>
    </div>
  </div>
</main>

<div class="sr-only" aria-live="polite" id="aria-announcer">No muscle selected</div>

<script>
const muscleData = {
  shoulders: {name:'Shoulders (Deltoids)',function:'Assist with arm abduction, rotation and overhead motions.',exercises:['Overhead press','Lateral raises','Front raises']},
  chest: {name:'Chest (Pectoralis Major)',function:'Primary muscle for pushing movements and arm flexion across the body.',exercises:['Bench press','Push-ups','Chest flyes']},
  triceps: {name:'Triceps',function:'Extends the elbow and assists shoulder stabilization.',exercises:['Triceps dips','Triceps pushdown','Overhead triceps extension']},
  biceps: {name:'Biceps',function:'Flexes the elbow and supinates the forearm.',exercises:['Biceps curls','Hammer curls','Chin-ups']},
  quads: {name:'Quadriceps',function:'Extend the knee and aid in hip flexion; important for walking, running, and squatting.',exercises:['Squats','Lunges','Leg press']}
};

const nameEl = document.getElementById('selected-muscle-name');
const infoEl = document.getElementById('selected-muscle-info');
const announcer = document.getElementById('aria-announcer');

function showMuscle(key) {
  if (!key || !muscleData[key]) {
    nameEl.textContent = 'No muscle selected';
    infoEl.textContent = 'Tap on a muscle in the diagram above (or use the buttons) to view its function and suggested exercises.';
    announcer.textContent = 'No muscle selected';
    return;
  }
  const m = muscleData[key];
  nameEl.textContent = m.name;
  infoEl.innerHTML = `<strong>Primary function:</strong> ${m.function}<br><strong>Recommended exercises:</strong> ${m.exercises.join(', ')}`;
  announcer.textContent = `${m.name} selected`;
}

// SVG buttons
document.querySelectorAll('.svg-label').forEach(btn=>{
  btn.addEventListener('click',()=>showMuscle(btn.dataset.muscle));
});

// Image map areas
document.querySelectorAll('map[name="musclemap"] area').forEach(area=>{
  area.tabIndex = 0;
  area.addEventListener('click', e=>{ e.preventDefault(); showMuscle(area.dataset.muscle); });
  area.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' ') { e.preventDefault(); showMuscle(area.dataset.muscle); } });
});

// Info button scroll
document.getElementById('showInfoBtn').addEventListener('click',()=>{
  document.querySelector('.right-panels').scrollIntoView({behavior:'smooth', block:'start'});
});

// Initialize default state
showMuscle();
</script>
</body>
</html>