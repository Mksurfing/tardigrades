<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muscle App</title>
    <style>
        /* Small local styles for the interactive controls */
        .muscle-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 12px;
            z-index: 12;
            position: relative;
        }

        .muscle-buttons button {
            background: #e1735e;
            border: none;
            padding: 8px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9em;
            color: #ffffff;
        }

        .muscle-buttons button:focus {
            outline: 3px solid #e1735e;
            outline-offset: 2px;
        }

        .sr-only { /* simple visually-hidden helper */
            position: absolute !important;
            height: 1px; width: 1px;
            overflow: hidden; clip: rect(1px, 1px, 1px, 1px);
            white-space: nowrap; border: 0; padding: 0; margin: -1px;
        }
    </style>
</head>
<body style="font-family: 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 0; background-color: #ffffff;">

    <!-- header removed (user requested blank top) -->

    <!-- Main app container (phone width) -->
    <main style="max-width:420px;margin:14px auto;padding:0 12px;">
    <div style="background:#ffe0b2;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.06);overflow:hidden;display:flex;flex-direction:column;position:relative;">
            <div style="padding:14px; display:flex; flex-direction:column; gap:10px;">
                <!-- Home button similar to profile example -->
                <button onclick="window.location.href='HomePage.html'" style="position:absolute;top:24px;right:22px;padding:6px 12px;background:#c7934c;color:#fff;border:none;border-radius:8px;cursor:pointer;font-weight:700;z-index:20;">Home</button>
                <!-- title removed (user requested blank top) -->

                <div style="display:flex;flex-direction:column;gap:14px;">
                    <div style="display:flex;flex-direction:row;gap:18px;align-items:flex-start;flex-wrap:wrap;">
                        <!-- Left column: image + controls -->
                        <div style="flex:1 1 100%; max-width:420px; background:transparent; position:relative;">
                       <img id="diagramImg" src="images/muscleman.png"
                           alt="Human Muscle Diagram showing major anterior muscles with callouts"
                           usemap="#musclemap"
                           role="img"
                           aria-describedby="muscle-system-info"
                           style="width:100%;height:auto;max-height:380px;object-fit:contain;display:block;border-radius:8px;box-shadow:0 2px 6px rgba(0,0,0,0.06);">

                            <!-- SVG overlay for arrows/labels; coordinates are in the 420x800 viewBox so they scale with image -->
                            <svg id="overlay" viewBox="0 0 420 800" preserveAspectRatio="xMidYMid meet" style="position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:auto;">
                                <defs>
                                    <marker id="arrow" markerWidth="8" markerHeight="8" refX="8" refY="4" orient="auto">
                                        <path d="M0,0 L8,4 L0,8 z" fill="#333" />
                                    </marker>
                                </defs>
                                <!-- Shoulders -->
                                <line x1="140" y1="90" x2="100" y2="60" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                                                                <foreignObject x="10" y="36" width="80" height="26">
                                                                    <body xmlns="http://www.w3.org/1999/xhtml"><button class="svg-label" data-muscle="shoulders" style="font-size:13px;padding:4px 8px;border-radius:6px;border:none;background:#e1735e;color:#fff;cursor:pointer;">Shoulders</button></body>
                                                                </foreignObject>

                                <!-- Chest -->
                                <line x1="210" y1="170" x2="260" y2="150" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                                <foreignObject x="270" y="128" width="70" height="26">
                                    <body xmlns="http://www.w3.org/1999/xhtml"><button class="svg-label" data-muscle="chest" style="font-size:13px;padding:4px 8px;border-radius:6px;border:none;background:#e1735e;color:#fff;cursor:pointer;">Chest</button></body>
                                </foreignObject>

                                <!-- Triceps (right arm) -->
                                <line x1="300" y1="220" x2="340" y2="200" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                                <foreignObject x="348" y="188" width="70" height="26">
                                    <body xmlns="http://www.w3.org/1999/xhtml"><button class="svg-label" data-muscle="triceps" style="font-size:13px;padding:4px 8px;border-radius:6px;border:none;background:#e1735e;color:#fff;cursor:pointer;">Triceps</button></body>
                                </foreignObject>

                                <!-- Biceps (left arm) -->
                                <line x1="150" y1="215" x2="95" y2="230" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                                <foreignObject x="10" y="236" width="70" height="26">
                                    <body xmlns="http://www.w3.org/1999/xhtml"><button class="svg-label" data-muscle="biceps" style="font-size:13px;padding:4px 8px;border-radius:6px;border:none;background:#e1735e;color:#fff;cursor:pointer;">Biceps</button></body>
                                </foreignObject>

                                <!-- Quads -->
                                <line x1="250" y1="420" x2="300" y2="470" stroke="#333" stroke-width="2" marker-end="url(#arrow)" />
                                <foreignObject x="308" y="472" width="70" height="26">
                                    <body xmlns="http://www.w3.org/1999/xhtml"><button class="svg-label" data-muscle="quads" style="font-size:13px;padding:4px 8px;border-radius:6px;border:none;background:#e1735e;color:#fff;cursor:pointer;">Quads</button></body>
                                </foreignObject>
                            </svg>

                            <map name="musclemap">
                                <area shape="poly" coords="200,100,250,110,260,180,210,190" href="#shoulders-info" alt="Shoulders" data-muscle="shoulders">
                                <area shape="rect" coords="260,150,340,220" href="#chest-info" alt="Chest" data-muscle="chest">
                                <area shape="rect" coords="300,450,380,580" href="#quads-info" alt="Quads" data-muscle="quads">
                            </map>

                            <!-- top control buttons removed because labels act as buttons now -->
                        </div>

                        <!-- Right column: info panels -->
                        <div style="flex:1 1 100%; min-width:0;">
                            <div style="background:#ffe0b2;padding:18px;border-radius:8px;border:2px solid #000000;">
                                <h3 style="margin:0 0 8px 0;color:#000000;font-size:0.98em;">Information about the muscular system</h3>
                                <p id="muscle-system-info" style="margin:0;font-size:0.9em;line-height:1.4;">The muscular system provides movement, posture, and heat generation. It's broadly categorized into skeletal, cardiac, and smooth muscle tissues.</p>
                            </div>

                            <div style="background:#ffe0b2;border-radius:8px;padding:14px;margin-top:12px;box-shadow:0 1px 2px rgba(0,0,0,0.04);min-height:120px;border:2px solid #000000;">
                                <h3 style="margin:0 0 6px 0;color:#000000;font-size:0.98em;">Specific muscle selected and exercises</h3>
                                <div id="selected-muscle-name" style="font-weight:600;color:#000000;margin-bottom:6px;">No muscle selected</div>
                                <p id="selected-muscle-info" style="margin:0;font-size:0.9em;line-height:1.4;">Tap on a muscle in the diagram above (or use the buttons) to view its function and suggested exercises.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <div class="sr-only" aria-live="polite" id="aria-announcer">No muscle selected</div>

    <script>
        // Small dataset of muscles. You can expand this with more muscles and richer content.
        const muscleData = {
            shoulders: {
                name: 'Shoulders (Deltoids)',
                function: 'Assist with arm abduction, rotation and overhead motions.',
                exercises: ['Overhead press', 'Lateral raises', 'Front raises']
            },
            chest: {
                name: 'Chest (Pectoralis Major)',
                function: 'Primary muscle for pushing movements and arm flexion across the body.',
                exercises: ['Bench press', 'Push-ups', 'Chest flyes']
            },
            triceps: {
                name: 'Triceps',
                function: 'Extends the elbow and assists shoulder stabilization.',
                exercises: ['Triceps dips', 'Triceps pushdown', 'Overhead triceps extension']
            },
            biceps: {
                name: 'Biceps',
                function: 'Flexes the elbow and supinates the forearm.',
                exercises: ['Biceps curls', 'Hammer curls', 'Chin-ups']
            },
            quads: {
                name: 'Quadriceps',
                function: 'Extend the knee and aid in hip flexion; important for walking, running, and squatting.',
                exercises: ['Squats', 'Lunges', 'Leg press']
            }
        };

        const infoNameEl = document.getElementById('selected-muscle-name');
        const infoEl = document.getElementById('selected-muscle-info');

        function showMuscle(muscleKey) {
            const data = muscleData[muscleKey];
            if (!data) {
                infoNameEl.textContent = 'No muscle selected';
                infoEl.textContent = 'Tap on a muscle in the diagram above (or use the buttons) to view its function and suggested exercises.';
                return;
            }

            infoNameEl.textContent = data.name;
            infoEl.innerHTML = `<strong>Primary function:</strong> ${data.function}<br><strong>Recommended exercises:</strong> ${data.exercises.join(', ')}`;
        }

        // Wire up area clicks (image map)
        // Make the <area> elements interactive and keyboard-accessible where possible
        document.querySelectorAll('map[name="musclemap"] area').forEach(area => {
            // make focusable in browsers that support it
            try { area.setAttribute('tabindex', '0'); } catch (e) {}

            area.addEventListener('click', (e) => {
                e.preventDefault();
                const key = area.dataset.muscle;
                if (key) showMuscle(key);
            });

            area.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    const key = area.dataset.muscle;
                    if (key) showMuscle(key);
                }
            });
        });

        // Wire up accessible buttons (legacy) - removed; instead wire SVG label buttons
        document.querySelectorAll('.svg-label').forEach(btn => {
            // these are HTML buttons embedded via foreignObject in the SVG
            btn.addEventListener('click', (e) => {
                const key = btn.dataset.muscle;
                showMuscle(key);
                // also update aria-announcer
                const announcer = document.getElementById('aria-announcer');
                if (announcer) announcer.textContent = (muscleData[key] && muscleData[key].name) ? muscleData[key].name + ' selected' : 'No muscle selected';
            });
        });

        // Initialize default state
        showMuscle();

        // Announce changes for screen readers
        const announcer = document.getElementById('aria-announcer');
        const originalShowMuscle = showMuscle;
        window.showMuscle = function(muscleKey) {
            originalShowMuscle(muscleKey);
            const text = muscleKey && muscleData[muscleKey] ? muscleData[muscleKey].name + ' selected' : 'No muscle selected';
            if (announcer) announcer.textContent = text;
        };
    </script>
</body>
</html>